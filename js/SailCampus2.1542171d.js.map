{"version":3,"sources":["webpack:///./src/views/iot/solutions/SailCampus2.vue?a0e5","webpack:///src/views/iot/solutions/SailCampus2.vue","webpack:///./src/views/iot/solutions/SailCampus2.vue?1bfb","webpack:///./src/views/iot/solutions/SailCampus2.vue","webpack:///./src/views/iot/solutions/SailCampus2.vue?e8f1"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","_v","_l","image","index","key","src","gutter","column","fetures","scopedSlots","_u","fn","item","_s","installdoc","usedoc","appendix","staticRenderFns","name","components","Markdown","data","images","component"],"mappings":"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","file":"js/SailCampus2.1542171d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-row',{staticStyle:{\"margin-top\":\"20px\",\"text-align\":\"center\"},attrs:{\"type\":\"flex\",\"justify\":\"space-around\"}},[_c('a-col',{attrs:{\"span\":24}},[_c('h1',{staticStyle:{\"color\":\"#273849\"}},[_vm._v(\"海舟物联智慧园区/智慧城市解决方案\")])])],1),_c('a-row',{attrs:{\"type\":\"flex\",\"justify\":\"space-around\"}},[_c('a-col',{attrs:{\"span\":22}},[_c('a-carousel',{attrs:{\"autoplay\":\"\"}},_vm._l((_vm.images),function(image,index){return _c('div',{key:index},[_c('a-row',{attrs:{\"type\":\"flex\",\"justify\":\"space-around\"}},[_c('a-col',{attrs:{\"span\":22}},[_c('img',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"src\":image.src}})])],1)],1)}),0)],1)],1),_c('a-row',{staticStyle:{\"margin-top\":\"20px\",\"text-align\":\"center\"},attrs:{\"type\":\"flex\",\"justify\":\"space-around\"}},[_c('a-col',{attrs:{\"span\":24}},[_c('h1',{staticStyle:{\"color\":\"#273849\"}},[_vm._v(\"产品特色\")])])],1),_c('a-row',{staticStyle:{\"margin-top\":\"20px\",\"text-align\":\"center\"},attrs:{\"type\":\"flex\",\"justify\":\"space-around\"}},[_c('a-col',{attrs:{\"span\":22}},[_c('a-list',{attrs:{\"grid\":{ gutter: 16, column: 3 },\"data-source\":_vm.fetures},scopedSlots:_vm._u([{key:\"renderItem\",fn:function(item){return _c('a-list-item',{},[_c('h2',{staticStyle:{\"color\":\"#6b6b6b\"}},[_vm._v(_vm._s(item))])])}}])})],1)],1),_c('a-row',{staticStyle:{\"margin-top\":\"20px\",\"text-align\":\"center\"},attrs:{\"type\":\"flex\",\"justify\":\"space-around\"}},[_c('a-col',{attrs:{\"span\":24}},[_c('h1',{staticStyle:{\"color\":\"#273849\"}},[_vm._v(\"安装手册\")])])],1),_c('a-row',{staticStyle:{\"margin-top\":\"20px\",\"text-align\":\"left\"},attrs:{\"type\":\"flex\",\"justify\":\"space-around\"}},[_c('a-col',{attrs:{\"span\":22}},[_c('Markdown',{attrs:{\"content\":_vm.installdoc}})],1)],1),_c('a-row',{staticStyle:{\"margin-top\":\"20px\",\"text-align\":\"center\"},attrs:{\"type\":\"flex\",\"justify\":\"space-around\"}},[_c('a-col',{attrs:{\"span\":24}},[_c('h1',{staticStyle:{\"color\":\"#273849\"}},[_vm._v(\"使用手册\")])])],1),_c('a-row',{staticStyle:{\"margin-top\":\"20px\",\"text-align\":\"left\"},attrs:{\"type\":\"flex\",\"justify\":\"space-around\"}},[_c('a-col',{attrs:{\"span\":22}},[_c('Markdown',{attrs:{\"content\":_vm.usedoc}})],1)],1),_c('a-row',{staticStyle:{\"margin-top\":\"20px\",\"text-align\":\"center\"},attrs:{\"type\":\"flex\",\"justify\":\"space-around\"}},[_c('a-col',{attrs:{\"span\":24}},[_c('h1',{staticStyle:{\"color\":\"#273849\"}},[_vm._v(\"附录\")])])],1),_c('a-row',{staticStyle:{\"margin-top\":\"20px\",\"text-align\":\"left\"},attrs:{\"type\":\"flex\",\"justify\":\"space-around\"}},[_c('a-col',{attrs:{\"span\":22}},[_c('Markdown',{attrs:{\"content\":_vm.appendix}})],1)],1),_c('a-row',{staticStyle:{\"margin-top\":\"20px\",\"height\":\"100px\",\"text-align\":\"center\"},attrs:{\"type\":\"flex\",\"justify\":\"space-around\"}},[_c('a-col',{attrs:{\"span\":24}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <a-row type=\"flex\" justify=\"space-around\" style=\"margin-top: 20px; text-align: center;\">\n      <a-col :span=\"24\">\n        <h1 style=\"color: #273849;\">海舟物联智慧园区/智慧城市解决方案</h1>\n      </a-col>\n    </a-row>\n\n    <a-row type=\"flex\" justify=\"space-around\">\n      <a-col :span=\"22\">\n        <a-carousel autoplay>\n          <div v-for=\"(image, index) in images\" :key=\"index\">\n            <a-row type=\"flex\" justify=\"space-around\">\n              <a-col :span=\"22\">\n                <img :src=\"image.src\" style=\"width: 100%; height: 100%;\">\n              </a-col>\n            </a-row>\n          </div>\n        </a-carousel>\n      </a-col>\n    </a-row>\n\n    <a-row type=\"flex\" justify=\"space-around\" style=\"margin-top: 20px; text-align: center;\">\n      <a-col :span=\"24\">\n        <h1 style=\"color: #273849;\">产品特色</h1>\n      </a-col>\n    </a-row>\n\n    <a-row type=\"flex\" justify=\"space-around\" style=\"margin-top: 20px; text-align: center;\">\n      <a-col :span=\"22\">\n        <a-list :grid=\"{ gutter: 16, column: 3 }\" :data-source=\"fetures\">\n          <a-list-item slot=\"renderItem\" slot-scope=\"item\">\n            <h2 style=\"color: #6b6b6b\">{{item}}</h2>\n          </a-list-item>\n        </a-list>\n      </a-col>\n    </a-row>\n\n    <a-row type=\"flex\" justify=\"space-around\" style=\"margin-top: 20px; text-align: center;\">\n      <a-col :span=\"24\">\n        <h1 style=\"color: #273849;\">安装手册</h1>\n      </a-col>\n    </a-row>\n\n    <a-row type=\"flex\" justify=\"space-around\" style=\"margin-top: 20px; text-align: left;\">\n      <a-col :span=\"22\">\n        <Markdown :content=\"installdoc\"></Markdown>\n      </a-col>\n    </a-row>\n\n    <a-row type=\"flex\" justify=\"space-around\" style=\"margin-top: 20px; text-align: center;\">\n      <a-col :span=\"24\">\n        <h1 style=\"color: #273849;\">使用手册</h1>\n      </a-col>\n    </a-row>\n\n    <a-row type=\"flex\" justify=\"space-around\" style=\"margin-top: 20px; text-align: left;\">\n      <a-col :span=\"22\">\n        <Markdown :content=\"usedoc\"></Markdown>\n      </a-col>\n    </a-row>\n\n    <a-row type=\"flex\" justify=\"space-around\" style=\"margin-top: 20px; text-align: center;\">\n      <a-col :span=\"24\">\n        <h1 style=\"color: #273849;\">附录</h1>\n      </a-col>\n    </a-row>\n\n    <a-row type=\"flex\" justify=\"space-around\" style=\"margin-top: 20px; text-align: left;\">\n      <a-col :span=\"22\">\n        <Markdown :content=\"appendix\"></Markdown>\n      </a-col>\n    </a-row>\n\n    <a-row type=\"flex\" justify=\"space-around\" style=\"margin-top: 20px; height: 100px; text-align: center;\">\n      <a-col :span=\"24\">\n      </a-col>\n    </a-row>\n\n  </div>\n</template>\n\n<script>\nimport Markdown from '@/components/Markdown.vue'\n\nconst images = [\n  {\n    src: \"/SailCampus2/home.png\"\n  },\n  {\n    src: \"/SailCampus2/online.png\"\n  },\n  {\n    src: \"/SailCampus2/device.png\"\n  },\n  {\n    src: \"/SailCampus2/gateway.png\"\n  },\n  {\n    src: \"/SailCampus2/gateway_device.png\"\n  },\n  {\n    src: \"/SailCampus2/rule.png\"\n  },\n  {\n    src: \"/SailCampus2/user.png\"\n  },\n  {\n    src: \"/SailCampus2/user_device.png\"\n  },\n];\n\nconst fetures = [\n  \"MQTT 5.0支持\",\n  \"MQTT 3.x兼容\",\n  \"向下级联魔方网关\",\n  \"单一二进制发布\",\n  \"支持k8s helm部署\",\n  \"集群支持\",\n  \"简单易用的规则引擎\",\n  \"简单灵活的访问控制\",\n  \"为智慧园区设计\"\n];\n\nconst installdoc = `\n# 安装\n\n添加helm仓库\n\\`\\`\\`bash\n$ helm repo add bitnami https://charts.bitnami.com/bitnami\n\\`\\`\\`\n\n创建namespace\n\\`\\`\\`bash\n$ kubectl create namespace sailcampus2\n\\`\\`\\`\n\n安装bitnami/postgresql或者bitnami/postgresql-ha\n\\`\\`\\`bash\n$ helm install pg bitnami/postgresql -n sailcampus2\n\\`\\`\\`\n\n等待postgresql就绪后创建数据库\n\\`\\`\\`bash\n$ export POSTGRES_PASSWORD=$(kubectl get secret --namespace sailcampus2 pg-postgresql -o jsonpath=\"{.data.postgresql-password}\" | base64 --decode)\n$ kubectl run pg-postgresql-client --rm --tty -i --restart='Never' --namespace sailcampus2 --image docker.io/bitnami/postgresql:11.13.0-debian-10-r60 --env=\"PGPASSWORD=$POSTGRES_PASSWORD\" --command -- psql --host pg-postgresql -U postgres -d postgres -p 5432\npostgres=# CREATE DATABASE sailcampus OWNER postgres;\npostgres=# \\\\q\n\\`\\`\\`\n\n\n安装bitnami/redis\n\\`\\`\\`bash\n$ helm install redis bitnami/redis -n sailcampus2\n\\`\\`\\`\n\n下载sailcampus2-helm-chart\n\\`\\`\\`bash\n$ git clone https://github.com/Hevienz/sailcampus2-helm-chart.git\n$ cd sailcampus2-helm-chart\n\\`\\`\\`\n\n修改sailcampus2/values.yaml\n\\`\\`\\`yaml\nactivationCode: 激活码\nemail: 您注册激活码时提供的邮箱地址\nphone: 您注册激活码时提供的手机号码\n\n# 根据上面安装的postgresql配置\npostgresql: \"host=pg-postgresql user=postgres password=ya5qeUWLgb dbname=sailcampus\n    port=5432 sslmode=disable TimeZone=Asia/Shanghai\"\n\n# 根据上面安装的redis配置\nredis:\n  address: \"redis-master:6379\"\n  password: \"ctWhKZNi0Y\"\n  db: 0\n\nmongodb: \"\"\n...\n\\`\\`\\`\n\n安装sailcampus2\n\\`\\`\\`bash\n$ helm install sailcampus2 sailcampus2 -n sailcampus2\n\\`\\`\\`\n\n等待sailcampus2就绪后创建超级用户\n\\`\\`\\`bash\n$ SAILCAMPUS2_POD=$(kubectl get pod -n sailcampus2 | grep sailcampus2 | head -n 1 | awk '{print $1}')\n$ kubectl exec $SAILCAMPUS2_POD --tty -i --namespace sailcampus2 -- sh\n/sailcampusui # SailCampus2 createsuperuser admin P@ssw0rd -c sailcampus2.yml\n\\`\\`\\`\n`\n\nconst usedoc = `\n# 使用\n\n## 设计模型与术语\n\n### 用户\n\n用户分为普通用户和超级管理员，普通用户只具有查看各种设备、网关、App的权限，超级管理员可以对各种实体进行增删改查等操作，超级管理员只能通过后台命令行进行添加和删除。\n\n### 设备\n\n设备指代各种物联网智能终端设备，设备归属于某个特定的用户，一个用户可以拥有多个设备。\n\n### 网关\n\n网关指代[海舟物联魔方网关](https://github.com/Hevienz/SailCubeGW2)，其作为物联网的边缘节点，起到汇聚边缘设备的作用，网关归属于某个特定的用户。\n\n### App\n\n用于展示、控制、获取设备状态的应用系统被称为App，App归属于某个特定的用户，用户被授权访问多个设备与网关，其所管理的App具有同这些设备及网关下接入的设备进行交互的权限。\n\n### 客户端\n\n统一将设备、网关和App称为客户端。\n\n### 主题\n\n主题分为设备主题和网关主题。\n\n#### 设备主题\n\n设备主题被划分为二级，例如\\`b31623f3-ce99-45be-8204-e189e040d916/DATA\\`，其中\\`b31623f3-ce99-45be-8204-e189e040d916\\`为设备的UUID，DATA为通道名。\n\n所有通道名如下：\n* OFFLINE (离线通道)\n* DATA (数据通道)\n* QUERY (查询通道)\n* QREPLY (查询回复通道)\n* CONTROL (控制通道)\n* CREPLY (控制回复通道)\n\n#### 网关主题\n\n网关主题被划分为三级，例如\\`7a81a235-07c4-4925-a9a3-32692916c734/af34e452-bccc-45b9-8d7f-81a82cdfb44d/DATA\\`，其中\\`7a81a235-07c4-4925-a9a3-32692916c734\\`为网关的UUID， \\`af34e452-bccc-45b9-8d7f-81a82cdfb44d\\`为其下接入设备的UUID，DATA为通道名，通道名同设备主题。\n\n### 规则引擎\n\n规则引擎是一个用于校验消息格式的系统模块，后续章节会进行详细介绍。\n\n## 访问控制\n\n### 连接\n\n在MQTT协议中，客户端向服务端发送的第一个报文是CONNECT报文，本系统对此报文中的客户标识符（Client Identifier）、用户名（User Name）、密码（Password）、遗嘱主题（Will Topic）和遗嘱消息（Will Payload）进行校验，在MQTT v5协议的客户端中，如果存在认证方法（Authentication Method），则应将其设置为jwt，并将认证数据（Authentication Data）设置为与密码相同。\n\n下面详细介绍以上字段的配置规则：\n\n* 客户端标识符\n> 应配置为相应客户端的UUID。\n\n* 用户名\n> 根据客户端类型进行配置，当客户端类型为设备，此处应设置为device；当客户端类型为网关，此处应设置为gateway；当客户端类型为App，此处应设置为app。\n\n* 密码\n> 如需获取密码，请打开Web管理页面（默认8787端口），点击右上角的工具图标，打开密码生成器后按照界面提示输入相应参数即可获得密码。\n\n* 遗嘱主题\n> 遗嘱主题的设置根据客户端类型的不同采用不同的设置，如果类型为设备或网关则应设置为\\`{自身的UUID}/OFFLINE\\`；如果类型为App则应将其置空。\n\n* 遗嘱消息\n> 遗嘱主题的设置根据客户端类型的不同采用不同的设置，如果类型为App则应将其置空；如果类型为设备或网关，遗嘱消息需通过规则引擎的验证，关于规则引擎请参考后续章节。\n\n### 订阅\n\n订阅根据不同的客户端类型而有所不同：\n\n* 当客户端类型为设备，其可以订阅主题\\`{自身的UUID}/CONTROL\\`和\\`{自身的UUID}/QUERY\\`。\n* 当客户端类型为网关，其可以订阅主题\\`{自身的UUID}/+/CONTROL\\`和\\`{自身的UUID}/+/QUERY\\`。\n* 当客户端类型为App，其可以订阅其所属App管理员被授权的设备及网关相关的主题，其中设备相关主题为\\`{设备UUID}/{通道名}\\`，网关相关主题为\\`{网关UUId}/+/{通道名}\\`，其中的通道名可设置为DATA、CREPLY、QREPLY、OFFLINE或+。\n\n### 发布\n\n发布支持QOS0、1、2。\n\n发布根据不同的客户端类型而有所不同：\n\n* 当客户端类型为设备，其可以发布的主题为\\`{自身的UUID}/DATA\\`、\\`{自身的UUID}/CREPLY\\`和\\`{自身的UUID}/QREPLY\\`。\n* 当客户端类型为网关，其可以发布的主题为\\`{自身的UUID}/{其下接入设备的UUID}/DATA\\`、\\`{自身的UUID}/{其下接入设备的UUID}/CREPLY\\`和\\`{自身的UUID}/{其下接入设备的UUID}/QREPLY\\`。\n* 当客户端类型为App，其可以发布消息到其所属App管理员被授权的设备及网关相关的主题，其中设备相关主题为\\`{设备UUId}/{通道名}\\`，网关相关主题为\\`{网关UUId}/{其下接入设备的UUID}/{通道名}\\`，其中的通道名可设置为CONTROL或QUERY。\n\n如果以上的发布的访问控制校验通过，那么会进行规则引擎的校验，关于规则引擎请参考后续章节。\n\n## 规则引擎\n\n当消息进入系统时，规则引擎会对其进行校验。\n\n当消息的主题为设备主题时，规则引擎会从设备的属性中找到对应通道的规则名，然后在规则引擎中查找到对应的规则。\n\n当消息的主题为网关主题时，规则引擎会从对应网关的子设备的属性中找到对应通道的规则名，然后在规则引擎中查找到对应的规则。\n\n之后，根据规则对消息内容进行校验。\n\n规则为一段特殊定制的json，下面举例说明：\n\n\\`\\`\\`json\n{\n    \"age\": \"number\",\n    \"books\": \"list\",\n    \"isStudent\": \"bool\",\n    \"name\": \"string\",\n    \"other\": \"object\",\n    \"score\": {\n        \"math\": \"number\",\n        \"music\": \"number\",\n        \"sport\": \"number\"\n    },\n    \"tag\": \"value\"\n}\n\\`\\`\\`\n\n消息若想通过上述规则的校验，必须满足其定义：\n\n* age 应设置为number类型\n* books 应设置为一个列表\n* isStudent 应设置为 true 或 false\n* name 应设置为字符串\n* other 应设置为一个对象，对象的键值对没有要求。\n* score 应设置为一个对象，并且其应该递归满足规则中键值对的要求，递归的层级没有限制\n* tag 应设置为number、bool或string类型的值\n* 消息中不得包含规则中未定义的字段\n`;\n\nconst appendix = `\n### 已知支持MQTTv5的库\n\n* paho java\n* paho python\n* paho c\n* paho c++\n* MQTT.js\n`;\n\nexport default {\n  name: \"SailCampus2\",\n  components: {\n    Markdown,\n  },\n  data() {\n    return {\n      images,\n      fetures,\n      installdoc,\n      usedoc,\n      appendix,\n    };\n  },\n}\n</script>\n\n<style scoped>\n/* For demo */\n.ant-carousel >>> .slick-slide {\n  text-align: center;\n  line-height: 80px;\n  background: #959696;\n  overflow: hidden;\n}\n\n.ant-carousel >>> .slick-slide h3 {\n  color: #061d73;\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SailCampus2.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SailCampus2.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SailCampus2.vue?vue&type=template&id=362194b1&scoped=true&\"\nimport script from \"./SailCampus2.vue?vue&type=script&lang=js&\"\nexport * from \"./SailCampus2.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SailCampus2.vue?vue&type=style&index=0&id=362194b1&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"362194b1\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SailCampus2.vue?vue&type=style&index=0&id=362194b1&scoped=true&lang=css&\""],"sourceRoot":""}